<h2>
  <div *ngIf="appState.isLoggedIn; else doRegistration">{{ 'user.titleMutate' | translate }}</div>
  <ng-template #doRegistration>{{ 'user.titleRegistration' | translate }}</ng-template>
</h2>

<form [formGroup]="userForm" novalidate (ngSubmit)="onClickRegister()">
  <label>{{ 'user.name' | translate }}<input formControlName="username"></label>
  <app-validation-feedback *ngIf="userForm.controls.username | hasError:'required'">{{ 'user.error.nameRequired' | translate }}</app-validation-feedback> <!-- spezifische Validierungs Fehler -->
  <app-validation-feedback *ngIf="userForm.controls.username | hasError:'minlength'">{{ 'user.error.nameMinLength' | translate }}</app-validation-feedback>
  <br>
  <label>{{ 'user.password' | translate }}</label><input formControlName="password" type="password">
  <app-validation-feedback *ngIf="userForm.controls.password | hasError:'required'">{{ 'user.error.passwordRequired' | translate }}</app-validation-feedback>
  <app-validation-feedback *ngIf="userForm.controls.password | hasError:'minlength'">{{ 'user.error.passwordMinLength' | translate }}</app-validation-feedback>
  <br>
  <label>{{ 'user.repeatPass' | translate }}</label><input formControlName="passwordRepeat" type="password">
  <br>
  <label>{{ 'user.email' | translate }}</label><input formControlName="email">
  <app-validation-feedback *ngIf="userForm.controls.email | hasError:'email'">{{ 'user.error.email' | translate }}</app-validation-feedback>
  <div>
    <span>{{ 'user.sex' | translate }}</span>
    <label><input type="radio" formControlName="sex" value="m">{{ 'user.man' | translate }}</label>
    <label><input type="radio" formControlName="sex" value="f">{{ 'user.women' | translate }}</label>
    <app-validation-feedback *ngIf="userForm.controls.sex | hasError:'required'">{{ 'user.error.sexRequired' | translate }}</app-validation-feedback>
  </div>
  <br>
  <label>{{ 'user.weight' | translate }}</label><input type="number" formControlName="weight"><label>{{ 'user.kg' | translate }}</label>
  <br>
  <app-validation-feedback *ngIf="(userForm | hasError:'passwordMismatch')
                                && userForm.controls.password.touched && userForm.controls.passwordRepeat.touched">
    {{ 'user.error.differentPasswords' | translate }}
  </app-validation-feedback>
  <button type="submit">
    <span *ngIf="appState.isLoggedIn; else doSave">{{ 'user.saveUser' | translate }}</span>
    <ng-template #doSave>{{ 'user.registerUser' | translate }}</ng-template>
  </button>
</form>

